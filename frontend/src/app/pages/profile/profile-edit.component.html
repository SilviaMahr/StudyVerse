 <div class="profile-page-wrapper">

   @if (isLoading) {
     <div class="loading-message">Lade Profil...</div>
   }

   @if (errorMessage && !isLoading && !originalData) {
     <div class="error-message"> {{ errorMessage }} </div>
   }

   @if (originalData) {

    <div class="profile-container">

      <div class="profile-header">
        <img src="assets/UNI.png" alt="Maskottchen" class="mascot">

        <h2>Profil bearbeiten</h2>
        <p>Hier kannst du deine persönlichen Daten anpassen.</p>
      </div>

      <form (ngSubmit)="onSubmit()">

        <div class="form-group input-with-icon">
          <label for="username">Benutzername</label>
          <div class="input-wrapper">
            <input
              type="text"
              id="username"
              [(ngModel)]="userName"
              name="username"
              [disabled]="isLoading">
            <svg class="edit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 20h9" />
              <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z" />
            </svg>
          </div>
        </div>

        <div class="form-group input-with-icon">
          <label for="email">E-Mailadresse</label>
          <div class="input-wrapper">
            <input
              type="text"
              id="email"
              [(ngModel)]="email"
              name="email"
              [disabled]="isLoading">
            <svg class="edit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 20h9" />
              <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z" />
            </svg>
          </div>
        </div>

        <div class="form-group">
          <label for="degree">aktueller Studiengang</label>
          <select id="degree" [(ngModel)]="selectedDegree" name="degree" [disabled]="isLoading">
            <option>Bachelor Wirtschaftsinformatik</option>
          </select>
        </div>

        <div class="form-group hover-group">

          <div class="label-wrapper">
            <label class="hint-trigger">Bereits absolvierte LVAs</label>
            <div class="form-hint">
              Diese LVAs werden bei der zukünftigen Planung berücksichtigt.
            </div>
          </div>

          <div class="secondary-button" [routerLink]="['/lva-management']">
            Absolvierte LVAs bearbeiten
            <svg class="edit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 20h9" />
              <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z" />
            </svg>
          </div>
        </div>

        @if (successMessage) {
          <div class="success-message">{{ successMessage }}</div>
        }

        @if (errorMessage) {
          <div class="success-message">{{ errorMessage }}</div>
        }

        <button type="submit" class="save-button">
          @if (isLoading) {
            Speichere...
          } @else {
            Änderungen speichern
          }
        </button>
      </form>
    </div>
   }

 </div>
